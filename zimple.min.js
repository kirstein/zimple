!function(a){var b,c=[].slice;b=function(){function b(c){return null==c&&(c=a),this instanceof b?(this._context=c,void 0):new b(c)}return b.fn=b.prototype.fn=function(a,d){if(null==a)throw new Error("No plugin name defined");if("function"!=typeof d)throw new Error("No function defined for plugin '"+a+"'");return b.prototype[a]=function(){var e;return e=1<=arguments.length?c.call(arguments,0):[],this instanceof b?d.apply(this,[this._context].concat(e)):b[a](this,e)},b[a]=function(){var d,e,f;return e=arguments[0],d=2<=arguments.length?c.call(arguments,1):[],null==e&&(e=this),f=new b(e),f[a].apply(f,d)}},b}.call(this),("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b:"function"==typeof define?define(function(){return b}):a.Z=b;var d,c=[].slice;d=function(){function a(a,b){this._context=a,this.async=b.async,null==this.async&&(this.async=!0)}return a.prototype.result=function(){var a,b,c,d;if(this.async)for(d=this._links,b=0,c=d.length;c>b;b++)a=d[b],this._context=a();return this._context},a.prototype._isValidMethodName=function(b){return"_"!==b.charAt(0)&&null==a.prototype[b]},a.prototype._linkSync=function(a){var b=this;return function(){var d;return d=1<=arguments.length?c.call(arguments,0):[],b._context=a.apply(b._context,d),b}},a.prototype._linkAsync=function(a){var b=this;return function(){var d;return d=1<=arguments.length?c.call(arguments,0):[],null==b._links&&(b._links=[]),b._links.push(function(){return a.apply(b._context,d)}),b}},a.prototype._link=function(a){return this.async?this._linkAsync(a):this._linkSync(a)},a}(),b.fn("chain",function(a,c){var e,f,g,h;null==c&&(c={}),e=new d(a,c),h=b.prototype;for(g in h)f=h[g],e._isValidMethodName(g)&&(e[g]=e._link(f));return e});var c=[].slice;b.fn("once",function(a,b){var d,e;if("function"!=typeof a)throw new Error("No function defined");return d=!1,e=null,function(){var f;return f=1<=arguments.length?c.call(arguments,0):[],d||(d=!0,e=a.apply(b,f)),e}})}(this);