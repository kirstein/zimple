!function(a){var b,c=[].slice;b=function(){function b(c){return null==c&&(c=a),this instanceof b?(this._context=c,void 0):new b(c)}return b.fn=b.prototype.fn=function(a,d){if(null==a)throw new Error("No plugin name defined");if("function"!=typeof d)throw new Error("No function defined for plugin '"+a+"'");return b.prototype[a]=function(){var e;return e=1<=arguments.length?c.call(arguments,0):[],this instanceof b?d.apply(this,[this._context].concat(e)):b[a].apply(this,e)},b[a]=function(){var d,e,f;return e=arguments[0],d=2<=arguments.length?c.call(arguments,1):[],null==e&&(e=this),f=new b(e),f[a].apply(f,d)}},b}.call(this),("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b:"function"==typeof define?define(function(){return b}):a.Z=b;var d,c=[].slice;d=function(){function a(a){this._root=a,this._links=[]}return a.prototype.result=function(){var a,b,c,d,e;for(a=this._root._context,e=this._links,c=0,d=e.length;d>c;c++)b=e[c],a=b(a);return a},a.prototype._isValidMethodName=function(b){return"_"!==b.charAt(0)&&null==a.prototype[b]},a.prototype._link=function(a){return function(){var b;return b=1<=arguments.length?c.call(arguments,0):[],this._links.push(function(c){return a.apply(c,[c].concat(b))}),this}},a}(),b.fn("chain",function(){var a,c,e,f;a=new d(this),f=b.prototype;for(e in f)c=f[e],a._isValidMethodName(e)&&(a[e]=a._link(c));return a});var c=[].slice;b.fn("once",function(a,b){var d,e;if("function"!=typeof a)throw new Error("No function defined");return d=!1,e=null,function(){var f;return f=1<=arguments.length?c.call(arguments,0):[],d||(d=!0,e=a.apply(b,f)),e}})}(this);